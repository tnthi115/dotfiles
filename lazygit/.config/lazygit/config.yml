#

# See full config options:
# https://github.com/jesseduffield/lazygit/blob/master/docs/Config.md

gui:
  enlargedSideViewLocation: top
  nerdFontsVersion: "3"
  showFileIcons: true
git:
  mainBranches:
    - main
    - master
    - hotfix-20241112
    - release-2025-7-0
  paging:
    colorArg: always
    # useConfig: true
    pager: delta --dark --paging=never
  commit:
    autoWrapCommitMessage: false
customCommands:
  - key: "Z"
    command: "git cz c"
    description: "Commit with commitizen."
    context: "files"
    loadingText: "Opening commitizen commit tool"
    output: terminal
  - key: "O"
    context: "files"
    command: 'opencode run --command "commit"'
    description: "Generate a Conventional Commit with opencode"
    output: terminal
    prompts:
      - type: "confirm"
        title: "Generate and commit with opencode"
        body: "Generate a Conventional Commit message for the current staged changes and make the commit using opencode?"
  - key: "O"
    context: "commits"
    description: "Reword commit message with opencode (HEAD or non-HEAD, automated)"
    command: '~/dotfiles/lazygit/bin/reword-commit-with-opencode.sh {{.SelectedCommit.Sha}} "{{.Form.extra}}"'
    output: terminal
    prompts:
      - type: "input"
        title: "Extra instructions for opencode (optional)"
        initialValue: ""
        key: "extra"
      - type: "confirm"
        title: "Reword commit with opencode"
        body: "Are you sure you want to reword the selected commit using opencode? This will rewrite history for non-HEAD commits."
  # - key: "m"
  #   command: "glab mr create --assignee t.thi --draft --fill --fill-commit-body --remove-source-branch --squash-before-merge --web"
  #   description: "Create gitlab MR with glab cli."
  #   context: "localBranches"
  #   loadingText: "Creating MR"
  #   prompts:
  #     - type: "confirm"
  #       title: "Create MR"
  #       body: "Are you sure you want to create the MR?"
  #   output: terminal
os:
  openLink: open "$(echo "{{link}}" | sed 's/%2F/\//g')"
